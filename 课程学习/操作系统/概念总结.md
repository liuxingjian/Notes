## 概念总结



### 处理机管理的主要功能

1、进程控制，进程同步，进程通信和调度，进程控制的主要任务是为作业创建进程，撤销已结束的进程，以及控制进程在运行过程中的状态转换。

2、进程同步的主要任务是对诸进程的运行进行调节，进程通信的任务是实现在相互合作进程之间的信息交换。

3、调度分为作业调度和进程调度.作业调度的基本任务是从后备队列中按照一定的算法，选择出若干个作业，为它们分配必要的资源。

4、进程调度的任务是从进程的就绪队列中，按照一定的算法选出一新进程，把处理机分配给它，并为它设置运行现场，是进程投入运行。



### 中断和异常的区别

中断是CPU所具备的功能 -- 硬件
异常是软件运行过程中的一种开发过程中没有考虑到的程序错误 -- 软件



#### 异常：

>  是指CPU内部出现的中断，即在CPU执行特定指令时出现的非法情况。同时异常也称为同步中断，因此只有在一条指令执行后才会发出中断，不可能在指令执行期间发生异常。

1. 产生的原因：
       程序的错误产生的，编程异常通常叫做软中断（eg:除数为0）
       内核必须处理的异常条件产生的(eg:缺页）

2. 产生的目的：
       Linux利用异常来达到两个截然不同的目的：
         ·给进程发送一个信号以通报一个反常情况
         ·管理硬件资源
      对于第一种情况，例如，如果进程执行了一个被0除的操作，CPU则会产生一个“除法错误”异常，并由相应的异常处理程序向当前进程发送一个SIGFPE信号。当前进程接收到这个信号后，
       就要采取若干必要的步骤，或者从错误中恢复，或者终止执行（如果这个信号没有相应的信号处理程序）。 
      对于第二种情况，内核使用两种异常来有效地管理硬件资源，相应的处理程序也就更复杂。在这种情况下，异常并不表示一种错误情况：
        ·用“设备不可用”异常来推迟装载浮点寄存器。
        ·用“缺页”异常推迟把新页框分配给进程。 



2.   异常又分为故障和陷阱。
     b.产生都不使用中断控制器，中断号由指令直接给出。不能被屏蔽。
     c.异常没有自己的进程上下文，会用到当前进程的进程上下文。
     d.在CPU执行一个异常处理程序时，就不再响应其他异常和中断请求服务.如果此时发生了一个异常，CPU不能去响应它，又不能把它的信息丢失该怎么办呢？
      这是就用到了堆栈，把所有的信息压入栈。等当前异常处理后，才从堆栈中取出信息再响应刚才的异常。
     e.X86处理处理器中大约有20种异常。Linux内核必须为每种异常提供一个专门的异常处理程序。

### 中断:

>  也称为异步中断。因此它是由其他硬件设备依照CPU时钟信号随机产生，即意味着中断能在指令之间发生。

 a.中断主要是响应外部硬件设备的。
 b.产生通过中断控制器，中断号是由中断控制器提供的（NMI硬中断中断号系统指定为02H）。
 中断又分为外部可屏蔽中断(INTR)和外部非屏蔽中断（NMI）
    ·所用I0设备产生的中断请求均引起可屏蔽中断。
    ·硬件故障引起的故障则产生非屏蔽中断。
 c.中断使用自己的中断上下文，原来的进程上下文保持不变，而且可以返回中断之前所作的事件。
 d.在CPU执行一个异常处理程序时，就不再响应其他异常和中断请求服务.如果此时产生多个非屏蔽中断时，CPU的处理方法跟异常处理方法一样，使用堆栈。





### 进程的主要属性

进程是指一个程序在一个数据集上的一次执行，它有如下一些基本属性：

进程是动态的，它包含了数据和运行在数据集上的程序；
 多个进程可以含有相同的程序；
多个进程可以并发执行；
进程有3种基本状态：阻塞态、运行态和就绪态。



```
引起进程状态转换的具体原因如下：

运行态→等待态：等待使用资源；如等待外设传输；等待人工干预。

等待态→就绪态：资源得到满足；如外设传输结束；人工干预完成。

运行态→就绪态：运行时间片到；出现有更高优先权进程。

就绪态—→运行态：CPU 空闲时选择一个就绪进程。
```

